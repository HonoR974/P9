language: java

services:
  - docker

cache:
  directories:
    - $HOME/.m2

before_script:
  - cd ./src

script:
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
   - mvn clean verify -P test-consumer,test-business sonar:sonar -Dsonar.login=c23392863a212360be502c90e5937665aea3cabe
  - cd ../docker/dev
  - docker-compose up -d
  - cd ../../src

